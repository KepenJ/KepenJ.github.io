<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>C++学习笔记（二）：类和对象 | Log'K'</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">C++学习笔记（二）：类和对象</h1><a id="logo" href="/.">Log'K'</a><p class="description">Learn more.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">C++学习笔记（二）：类和对象</h1><div class="post-meta">May 21, 2016<span> | </span><span class="category"><a href="/categories/C/">C++</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>在<a href="http://kepenj.me/2016/04/27/C-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9AC-%E5%88%9D%E6%AD%A5%E5%92%8C%E6%96%B0%E5%A2%9E%E7%89%B9%E6%80%A7/" target="_blank" rel="external">上一章节</a>中我们简单介绍了 C++ 方面的一些基础和新增特性，这些都有区别于以往 iOS 中的一些特点。这一章节中我们进一步的针对 C++ 当中的类和对象相关的知识点进行梳理。</p>
<h2 id="成员变量和函数"><a href="#成员变量和函数" class="headerlink" title="成员变量和函数"></a>成员变量和函数</h2><p>这个在上一篇中就已经有意识或者无意识的表现了出来，这里就直接上代码了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">     Student();</div><div class="line">    ~ Student();</div><div class="line">    <span class="comment">//成员变量</span></div><div class="line">    <span class="keyword">char</span>*name;</div><div class="line">    <span class="keyword">int</span> age;</div><div class="line">    <span class="keyword">float</span> score;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//函数</span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">say</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, <span class="string">"Hello World"</span>);</div><div class="line">    &#125;    </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="类成员的访问权限"><a href="#类成员的访问权限" class="headerlink" title="类成员的访问权限"></a>类成员的访问权限</h2><p>这个在我们之前写的时候也用到了，整体看来和 iOS 中的实例变量访问权限是一样的，都用到了 <code>public</code>，<code>protected</code> 和 <code>private</code>。在当前属性当中我们是可以自由访问任意一个权限下的变量的，只有在外部的时候才会出现相应的作用。</p>
<p>public 所标识的变量或者方法外部可以自由访问。</p>
<p>protected 和 private 则相反不行。</p>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><p>构造函数顾名思义就是构造对象所用到的函数方法，从 iOS 角度理解来看就是初始化的方法。以下是相关代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line">    <span class="keyword">private</span>:</div><div class="line">        <span class="keyword">char</span>*name;</div><div class="line">        <span class="keyword">int</span> age;</div><div class="line">        <span class="keyword">float</span> score;</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        <span class="comment">//默认的构造方法</span></div><div class="line">         Student();</div><div class="line">        ~ Student();</div><div class="line">        <span class="comment">//重载Student()</span></div><div class="line">        Student(<span class="keyword">char</span>*name1,<span class="keyword">int</span> age1,<span class="keyword">float</span> score1);</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">say</span><span class="params">()</span></span>;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="keyword">char</span>*name1)</span> </span>&#123;</div><div class="line">            name = name1;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age1)</span> </span>&#123;</div><div class="line">            age = age1;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">void</span> <span class="title">setScore</span><span class="params">(<span class="keyword">float</span> score1)</span> </span>&#123;</div><div class="line">            score = score1;</div><div class="line">        &#125;</div><div class="line">&#125;;</div><div class="line">Student::Student()&#123;&#125;</div><div class="line">Student::Student(<span class="keyword">char</span>*name1,<span class="keyword">int</span> age1,<span class="keyword">float</span> score1) &#123;</div><div class="line">    name = name1;</div><div class="line">    age = age1;</div><div class="line">    score = score1;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Student::say() &#123;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%s\n"</span>,<span class="string">"Hello world"</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//构造函数初始化</span></div><div class="line">    <span class="function">Student <span class="title">student</span><span class="params">(<span class="string">"xiayin"</span>,<span class="number">25</span>,<span class="number">99.0</span>)</span></span>;</div><div class="line">    student.say();</div><div class="line">    <span class="comment">//正常初始化</span></div><div class="line">    Student student_2;</div><div class="line">    student_2.setName(<span class="string">"xiayin"</span>);</div><div class="line">    student_2.setAge(<span class="number">25</span>);</div><div class="line">    student_2.setScore(<span class="number">99.0</span>);</div><div class="line">    student_2.say();</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="构造函数的参数初始化表"><a href="#构造函数的参数初始化表" class="headerlink" title="构造函数的参数初始化表"></a>构造函数的参数初始化表</h2><p>构造函数的这个初始化表的特性很有意思，我们可以通过在构造函数后面再加个初始化表字段，例如下面这段代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Student::Student(<span class="keyword">char</span> *name1, <span class="keyword">int</span> age1, <span class="keyword">float</span> score1):name(name1), age(age1), score(score1)&#123;&#125;</div></pre></td></tr></table></figure>
<p>讲道理，也就是給初始化方法添加了一个便捷的途径。同样的我们用这个方式可以给 <code>const</code> 标记的变量进行初始化</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Array&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//在这里给 length 这个 const 标记的参数进行了初始化设置</span></div><div class="line">    Array():length(<span class="number">0</span>)&#123;</div><div class="line">        length = <span class="number">0</span>;</div><div class="line">        num = <span class="literal">NULL</span>;</div><div class="line">    &#125;;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">const</span> <span class="keyword">int</span> length;</div><div class="line">    <span class="keyword">int</span> * num;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h2><p>all right，这个东东其实在上面的代码里已经出现了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="comment">//是构造函数</span></div><div class="line">    Student();</div><div class="line">    <span class="comment">//下面这个是析构函数</span></div><div class="line">    ~Student();</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>如果说构造函数是 iOS 当中的初始化方法 ，那么析构函数就是 iOS 当中 dealloc 方法了。简单来说就是在对象要释放之前调用的函数。唯一有意思的一点就是，当多个对象释放的时候，执行的顺序却是反过来的，举个例子</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Student(<span class="keyword">char</span>*name1)&#123;</div><div class="line">        name = name1;</div><div class="line">    &#125;;</div><div class="line">    ~Student() &#123;</div><div class="line">        cont&lt;&lt;name&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    &#125;;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">char</span> * name;</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">/* code */</span></div><div class="line">    <span class="function">Student <span class="title">stu1</span><span class="params">(<span class="string">"A"</span>)</span></span>;</div><div class="line">    <span class="function">Student <span class="title">stu2</span><span class="params">(<span class="string">"B"</span>)</span></span>;</div><div class="line">    <span class="function">Student <span class="title">stu3</span><span class="params">(<span class="string">"C"</span>)</span></span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>当 main() 走完释放创建的 stu1 stu2 stu3 的时候，并不像创建他们的顺序那样去释放，从而打印出 <code>A B C</code> ，最后打印出来的却是 <code>C B A</code>。</p>
<h2 id="this-指针"><a href="#this-指针" class="headerlink" title="this 指针"></a>this 指针</h2><p>这个我理解的就是 iOS 当中的 self 指针，指向当先这个类对象。还是举个例子</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Student();</div><div class="line">    ~Student();</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(<span class="keyword">char</span>*)</span></span>;</div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span>)</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">char</span> * name;</div><div class="line">    <span class="keyword">int</span> age;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">void</span> Student::setName(<span class="keyword">char</span> *name) &#123;</div><div class="line">    <span class="keyword">this</span>-&gt;name = name;</div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> Student::setAge(<span class="keyword">int</span> age) &#123;</div><div class="line">    <span class="keyword">this</span>-&gt;age = age;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></div><div class="line">&#123;</div><div class="line">    Student <span class="built_in">std</span>;</div><div class="line">    <span class="built_in">std</span>.setName(<span class="string">"XiaYin"</span>);</div><div class="line">    <span class="built_in">std</span>.setAge(<span class="number">25</span>);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="静态成员变量和静态成员函数"><a href="#静态成员变量和静态成员函数" class="headerlink" title="静态成员变量和静态成员函数"></a>静态成员变量和静态成员函数</h2><p>如果你想某个类下的多个成员共享一个变量或者一个方法，ok~第一反应可能是在创建这些对象的外部声明一个静态变量，或者全局变量来操作。C++ 中你可以使用静态成员变量和静态成员函数来实现。还是举个代码!</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line">	<span class="keyword">public</span>:</div><div class="line">    	Student();</div><div class="line">    	~Student();</div><div class="line">    	<span class="keyword">static</span> <span class="keyword">int</span> num;</div><div class="line">&#125;;</div><div class="line">Student::Student() &#123;</div><div class="line">    num++;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></div><div class="line">&#123;</div><div class="line">    Student std1;</div><div class="line">    Student std2;</div><div class="line">    Student std3;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,std3.num);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>因为 <code>static</code> 成员变量属于类，不属于某个具体的对象，这就意味着，即使创建多个对象，也只为 num 分配一份内存，所有对象使用的都是这份内存中的数据。当某个对象修改了 num，也会影响到其他对象。所以我们结果打印出来的就是 3 了，同理静态成员函数也是这样。</p>
<h2 id="类和new、delete-操作符"><a href="#类和new、delete-操作符" class="headerlink" title="类和new、delete 操作符"></a>类和new、delete 操作符</h2><p>当你需要给 C++ 对象分配堆区间而非栈区间的话，你需要用到 <code>new</code> 这个方法来为这个对象开辟空间，同样和 iOS 一样我们有 alloc 就要有 release，不然会出现内存泄漏的。具体如下</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Student();</div><div class="line">    ~Student();</div><div class="line">&#125;;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//在堆区间里面创建一个 std 对象</span></div><div class="line">    Student * <span class="built_in">std</span> = <span class="keyword">new</span> Student;</div><div class="line">    <span class="comment">//消除这个对象</span></div><div class="line">    <span class="keyword">delete</span> <span class="built_in">std</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="类与-const-关键字"><a href="#类与-const-关键字" class="headerlink" title="类与 const 关键字"></a>类与 const 关键字</h2><p>在 C++ 当中如果你不希望某个对象被修改，那么你可以使用 <code>const</code> 字段来标记某个对象</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// std 对象就成了常对象</span></div><div class="line"><span class="keyword">const</span> Student <span class="built_in">std</span></div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//或者这样</span></div><div class="line">Student <span class="keyword">const</span> <span class="built_in">std</span></div></pre></td></tr></table></figure>
<p>被标记为 常对象 的对象只能访问该对象内的 常成员函数 ，const 成员函数可以使用类中的所有成员变量，但是不能修改变量的值，这种措施主要还是为了保护数据而设置的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student</div><div class="line">&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Student();</div><div class="line">    ~Student();</div><div class="line">    <span class="function"><span class="keyword">char</span>* <span class="title">getName</span><span class="params">()</span> <span class="keyword">const</span></span>;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">char</span> * name;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">char</span> * Student::getName() <span class="keyword">const</span> &#123;</div><div class="line">    <span class="keyword">return</span> name;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="友元函数和友元类"><a href="#友元函数和友元类" class="headerlink" title="友元函数和友元类"></a>友元函数和友元类</h2><p>在当前类以外定义的、不属于当前类的函数也可以在类中声明，但要在前面加 <code>friend</code> 关键字，这样就构成了友元函数。友元函数可以是不属于任何类的非成员函数，也可以是其他类的成员函数。还是举个例子</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Student&#123;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keyword">char</span> *name;</div><div class="line">    <span class="keyword">int</span> age;</div><div class="line">    <span class="keyword">float</span> score;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Student(<span class="keyword">char</span>*, <span class="keyword">int</span>, <span class="keyword">float</span>);</div><div class="line">    <span class="function"><span class="keyword">friend</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">(Student &amp;)</span></span>;  <span class="comment">//将display声明为友元函数</span></div><div class="line">&#125;;</div><div class="line">Student::Student(<span class="keyword">char</span> *name, <span class="keyword">int</span> age, <span class="keyword">float</span> score)&#123;</div><div class="line">    <span class="keyword">this</span>-&gt;name = name;</div><div class="line">    <span class="keyword">this</span>-&gt;age= age;</div><div class="line">    <span class="keyword">this</span>-&gt;score = score;</div><div class="line">&#125;</div><div class="line"><span class="comment">//普通成员函数</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">display</span><span class="params">(Student &amp;stu)</span></span>&#123;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;stu.name&lt;&lt;<span class="string">"的年龄是 "</span>&lt;&lt;stu.age&lt;&lt;<span class="string">"，成绩是 "</span>&lt;&lt;stu.score&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="function">Student <span class="title">stu</span><span class="params">(<span class="string">"小明"</span>, <span class="number">16</span>, <span class="number">95.5f</span>)</span></span>;</div><div class="line">    <span class="comment">//这里就可以直接调用 display</span></div><div class="line">    display(stu);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>同理友元类也是这个意思。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/05/21/C-学习笔记（二）：类和对象/" data-id="cis7j69jr0005rpu5q8ds9av1" class="article-share-link">分享到</a><div class="tags"></div><div class="post-nav"><a href="/2016/04/27/C-学习笔记（一）：C-基本和新增特性/" class="next">C++学习笔记（一）：C++基本和新增特性</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/杂感/">杂感</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/05/21/C-学习笔记（二）：类和对象/">C++学习笔记（二）：类和对象</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/27/C-学习笔记（一）：C-基本和新增特性/">C++学习笔记（一）：C++基本和新增特性</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/21/iAP-的一波玩弄/">iAP 的一波玩弄</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/20/A-new-beginning/">A new beginning.</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/28/关于近期面试有感/">关于近期面试有感</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/01/记一次失败的OS-X-重装/">记一次失败的OS X 重装</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/29/从-Octopress-换-Hexo-了/">从 Octopress 换 Hexo 了</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/21/Apple-pay-体验报告/">Apple pay 体验报告</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/29/2015-终总结和-2016-的-flag/">2015 终总结和 2016 的 flag</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/10/22/Scrapy-爬虫学习中不可或缺的利器/">Scrapy 爬虫学习中不可或缺的利器</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/KepenJ" title="Github" target="_blank">Github</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Log'K'.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>